{
  "metadata": {
    "engagement_name": "",
    "created_at": "2026-02-11T17:36:44.941124+00:00",
    "total_objects": 20,
    "total_batches": 5,
    "total_sprints": 5,
    "passed_objects": 12,
    "failed_objects": 8,
    "pass_rate_percent": 60.0
  },
  "batches": [
    {
      "batch_id": 1,
      "batch_name": "Foundation",
      "sprint_number": 1,
      "object_type_group": "foundation",
      "total_objects": 4,
      "passed_count": 3,
      "failed_count": 1,
      "dependencies": [],
      "objects": [
        {
          "name": "db_datareader",
          "object_type": "SECURITY",
          "schema_name": "dbo",
          "qualified_name": "dbo.db_datareader",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [],
          "failure_category": "",
          "impact_score": 8
        },
        {
          "name": "dbo",
          "object_type": "SCHEMA",
          "schema_name": "dbo",
          "qualified_name": "dbo.dbo",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [],
          "failure_category": "",
          "impact_score": 15
        },
        {
          "name": "fn_CalculateDiscount",
          "object_type": "FUNCTION",
          "schema_name": "dbo",
          "qualified_name": "dbo.fn_CalculateDiscount",
          "status": "Failed",
          "failure_reason": "IDENTITY column not supported in Fabric; uses sql_variant parameter type",
          "dependencies": [],
          "failure_category": "minor_manual",
          "impact_score": 3
        },
        {
          "name": "fn_GetFiscalYear",
          "object_type": "FUNCTION",
          "schema_name": "dbo",
          "qualified_name": "dbo.fn_GetFiscalYear",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [],
          "failure_category": "",
          "impact_score": 5
        }
      ]
    },
    {
      "batch_id": 2,
      "batch_name": "Table Batch 1",
      "sprint_number": 2,
      "object_type_group": "table",
      "total_objects": 5,
      "passed_count": 3,
      "failed_count": 2,
      "dependencies": [
        1
      ],
      "objects": [
        {
          "name": "Customers",
          "object_type": "TABLE",
          "schema_name": "dbo",
          "qualified_name": "dbo.Customers",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [
            "dbo.dbo"
          ],
          "failure_category": "",
          "impact_score": 12
        },
        {
          "name": "Products",
          "object_type": "TABLE",
          "schema_name": "dbo",
          "qualified_name": "dbo.Products",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [
            "dbo.dbo"
          ],
          "failure_category": "",
          "impact_score": 10
        },
        {
          "name": "Orders",
          "object_type": "TABLE",
          "schema_name": "dbo",
          "qualified_name": "dbo.Orders",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [
            "dbo.dbo",
            "dbo.Customers"
          ],
          "failure_category": "",
          "impact_score": 11
        },
        {
          "name": "OrderDetails",
          "object_type": "TABLE",
          "schema_name": "dbo",
          "qualified_name": "dbo.OrderDetails",
          "status": "Failed",
          "failure_reason": "DISTRIBUTION = HASH(OrderID) not supported in Fabric Data Warehouse",
          "dependencies": [
            "dbo.dbo",
            "dbo.Orders",
            "dbo.Products"
          ],
          "failure_category": "auto_fixable",
          "impact_score": 6
        },
        {
          "name": "Inventory",
          "object_type": "TABLE",
          "schema_name": "dbo",
          "qualified_name": "dbo.Inventory",
          "status": "Failed",
          "failure_reason": "CLUSTERED COLUMNSTORE INDEX with non-default ORDER clause; DISTRIBUTION = REPLICATE not supported",
          "dependencies": [
            "dbo.dbo",
            "dbo.Products"
          ],
          "failure_category": "auto_fixable",
          "impact_score": 4
        }
      ]
    },
    {
      "batch_id": 3,
      "batch_name": "View Batch 1",
      "sprint_number": 6,
      "object_type_group": "view",
      "total_objects": 3,
      "passed_count": 2,
      "failed_count": 1,
      "dependencies": [
        2,
        1
      ],
      "objects": [
        {
          "name": "vw_CustomerSummary",
          "object_type": "VIEW",
          "schema_name": "dbo",
          "qualified_name": "dbo.vw_CustomerSummary",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [
            "dbo.Customers",
            "dbo.Orders"
          ],
          "failure_category": "",
          "impact_score": 7
        },
        {
          "name": "vw_OrderReport",
          "object_type": "VIEW",
          "schema_name": "dbo",
          "qualified_name": "dbo.vw_OrderReport",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [
            "dbo.Orders",
            "dbo.OrderDetails",
            "dbo.Products"
          ],
          "failure_category": "",
          "impact_score": 5
        },
        {
          "name": "vw_InventoryStatus",
          "object_type": "VIEW",
          "schema_name": "dbo",
          "qualified_name": "dbo.vw_InventoryStatus",
          "status": "Failed",
          "failure_reason": "MATERIALIZED VIEW not supported in Fabric; convert to standard view with caching",
          "dependencies": [
            "dbo.Inventory",
            "dbo.Products"
          ],
          "failure_category": "minor_manual",
          "impact_score": 3
        }
      ]
    },
    {
      "batch_id": 4,
      "batch_name": "Stored Procedures",
      "sprint_number": 8,
      "object_type_group": "procedure",
      "total_objects": 3,
      "passed_count": 1,
      "failed_count": 2,
      "dependencies": [
        2,
        3,
        1
      ],
      "objects": [
        {
          "name": "usp_GenerateReport",
          "object_type": "STORED_PROCEDURE",
          "schema_name": "dbo",
          "qualified_name": "dbo.usp_GenerateReport",
          "status": "Failed",
          "failure_reason": "Uses RESULT SETS clause and workload classifier reference not supported in Fabric",
          "dependencies": [
            "dbo.vw_CustomerSummary",
            "dbo.vw_OrderReport"
          ],
          "failure_category": "auto_fixable",
          "impact_score": 1
        },
        {
          "name": "usp_ProcessDailyOrders",
          "object_type": "STORED_PROCEDURE",
          "schema_name": "dbo",
          "qualified_name": "dbo.usp_ProcessDailyOrders",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [
            "dbo.Orders",
            "dbo.OrderDetails",
            "dbo.fn_GetFiscalYear"
          ],
          "failure_category": "",
          "impact_score": 4
        },
        {
          "name": "usp_RefreshInventory",
          "object_type": "STORED_PROCEDURE",
          "schema_name": "dbo",
          "qualified_name": "dbo.usp_RefreshInventory",
          "status": "Failed",
          "failure_reason": "Cross-database reference to [StagingDB].[dbo].[RawInventory]; EXEC with dynamic SQL using sp_executesql with OUTPUT",
          "dependencies": [
            "dbo.Inventory",
            "dbo.Products",
            "dbo.fn_CalculateDiscount"
          ],
          "failure_category": "significant_refactor",
          "impact_score": 2
        }
      ]
    },
    {
      "batch_id": 5,
      "batch_name": "Cleanup & External",
      "sprint_number": 9,
      "object_type_group": "cleanup",
      "total_objects": 5,
      "passed_count": 3,
      "failed_count": 2,
      "dependencies": [
        1,
        2,
        3,
        4
      ],
      "objects": [
        {
          "name": "ext_AzureBlobSource",
          "object_type": "EXTERNAL_DATA_SOURCE",
          "schema_name": "dbo",
          "qualified_name": "dbo.ext_AzureBlobSource",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [],
          "failure_category": "",
          "impact_score": 2
        },
        {
          "name": "ext_CsvFormat",
          "object_type": "EXTERNAL_FILE_FORMAT",
          "schema_name": "dbo",
          "qualified_name": "dbo.ext_CsvFormat",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [],
          "failure_category": "",
          "impact_score": 2
        },
        {
          "name": "ext_ExchangeRates",
          "object_type": "EXTERNAL_TABLE",
          "schema_name": "dbo",
          "qualified_name": "dbo.ext_ExchangeRates",
          "status": "Failed",
          "failure_reason": "EXTERNAL TABLE with DATA_SOURCE pointing to ADLS Gen2; must convert to OneLake shortcut",
          "dependencies": [
            "dbo.ext_AzureBlobSource",
            "dbo.ext_CsvFormat"
          ],
          "failure_category": "auto_fixable",
          "impact_score": 0
        },
        {
          "name": "ext_MarketData",
          "object_type": "EXTERNAL_TABLE",
          "schema_name": "dbo",
          "qualified_name": "dbo.ext_MarketData",
          "status": "Failed",
          "failure_reason": "EXTERNAL TABLE with DATA_SOURCE pointing to Azure Blob Storage; must convert to OneLake shortcut or Fabric Lakehouse table",
          "dependencies": [
            "dbo.ext_AzureBlobSource",
            "dbo.ext_CsvFormat"
          ],
          "failure_category": "auto_fixable",
          "impact_score": 1
        },
        {
          "name": "stat_Orders_OrderDate",
          "object_type": "STATISTICS",
          "schema_name": "dbo",
          "qualified_name": "dbo.stat_Orders_OrderDate",
          "status": "Passed",
          "failure_reason": "",
          "dependencies": [
            "dbo.Orders"
          ],
          "failure_category": "",
          "impact_score": 0
        }
      ]
    }
  ],
  "dependency_summary": {
    "total_nodes": 20,
    "total_edges": 38,
    "num_layers": 6,
    "cycle_count": 0,
    "cycles": [],
    "max_chain_depth": 5,
    "root_nodes": 3,
    "leaf_nodes": 8
  },
  "warnings": []
}